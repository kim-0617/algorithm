<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로딩</title>
</head>

<body>
    <div class="loading">
        <div class="loading__ani">loading</div>
        <span class="loading__text">0%</span>
    </div>

    <div class="img__wrap">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
        <img src="https://images.unsplash.com/photo-1670439073382-09f4b80f153e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://unpkg.com/imagesloaded@latest/imagesloaded.pkgd.min.js"></script>
    <script>
        // 로딩화면
        function loading() {
            //imagesLoaded라이브러리에서 body요소의 이미지 로딩을 모니터링
            //imgTotal, 동시에 body전체 이미지 수를 저장
            //imgLoaded, 읽을 완료 한 이미지의 숫자 카운터
            //imgCurrent, 진행률 표시의 현재 위치에 해당하는 수치
            //progressTimer, 1초에 60번씩 읽어 여부 확인
            let imgLoad = imagesLoaded("body"),
                imgTotal = imgLoad.images.length,
                imgLoaded = 0,
                imgCurrent = 0,
                progressTimer = setInterval(updateProgress, 1000 / 60);

            //imgagesLoaded을 이용하여 이미지를 로드 할 때 마다 카운트를 계산
            imgLoad.on('progress', function () {
                imgLoaded++;
            });

            //이미지로드 상황을, 바탕으로 진행표시를 업데이트
            //target, 읽을 완료 한 이미지의 비율
            //imgCurrent(현재 위치)와 target(목적지)의 거리를 바탕으로 여유를 건다
            // 텍스트는 소수점 이하를 버리고 정수로
            function updateProgress() {
                let target = (imgLoaded / imgTotal) * 100;
                imgCurrent += (target - imgCurrent) * 0.1;
                $(".loading__text").text(Math.floor(imgCurrent) + "%");

                gsap.set('.img__wrap', { opacity: 0 })

                //종료
                if (imgCurrent >= 100) {
                    //진행표시의 업데이트를 중지
                    clearInterval(progressTimer);
                    setTimeout(() => {
                        const tl = gsap.timeline();
                        tl.to(".loading__ani", { duration: 0.4, opacity: 0 }, "1")
                        tl.to(".loading__text", { duration: 0.4, opacity: 0 }, "1")
                        tl.to(".loading", { duration: 0.4, width: 0 })
                        tl.to(".img__wrap", { duration: 0.4, opacity: 1 })
                    }, 1000)
                }
                // imgCurrent가 99보다 크면 100으로 간주
                if (imgCurrent > 99) {
                    imgCurrent = 100;
                }
            }
        }
        loading();
    </script>
</body>

</html>